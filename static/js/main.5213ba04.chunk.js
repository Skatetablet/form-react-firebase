(this["webpackJsonpfirestore-crud-react"]=this["webpackJsonpfirestore-crud-react"]||[]).push([[0],{24:function(e,t,c){},25:function(e,t,c){},28:function(e,t,c){},32:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),r=c(14),s=c.n(r),i=(c(24),c(25),c(8)),o=c(7),u=c.n(o),d=c(12),l=c(13),f=c(19),b=(c(33),f.a.initializeApp({apiKey:"AIzaSyDHaqcECpf8ipDO5tkDj4ORK42oTbfFKgM",authDomain:"fb-crud-ab6fa.firebaseapp.com",projectId:"fb-crud-ab6fa",storageBucket:"fb-crud-ab6fa.appspot.com",messagingSenderId:"153560596845",appId:"1:153560596845:web:7879db4cdf1c0c7975da64"}).firestore()),j=c(15),p=(c(28),c(9)),m=c(3),O=function(e){var t={url:"",name:"",description:""},c=Object(n.useState)(t),a=Object(l.a)(c,2),r=a[0],s=a[1],o=function(e){var t=e.target,c=t.name,n=t.value;s(Object(i.a)(Object(i.a)({},r),{},Object(j.a)({},c,n)))},f=function(){var e=Object(d.a)(u.a.mark((function e(t){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.collection("links").doc(t).get();case 2:c=e.sent,s(Object(i.a)({},c.data()));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){""===e.currentId?s(Object(i.a)({},t)):f(e.currentId)}),[e.currentId]),Object(m.jsxs)("form",{className:"card card-body",onSubmit:function(c){if(c.preventDefault(),n=r.url,!/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(n))return Object(p.b)("Invalid URL",{type:"warning",autoClose:2e3});var n;console.log(r),e.addOrEdit(r),s(Object(i.a)({},t))},children:[Object(m.jsxs)("div",{className:"form-group input-group",children:[Object(m.jsx)("div",{className:"input-group-text bg-light",children:Object(m.jsx)("i",{className:"material-icons",children:"insert_link"})}),Object(m.jsx)("input",{type:"text",className:"form-control",placeholder:"https://someurl.com",name:"url",onChange:o,value:r.url})]}),Object(m.jsxs)("div",{className:"form-group input-group",children:[Object(m.jsx)("div",{className:"input-group-text bg-light",children:Object(m.jsx)("i",{className:"material-icons",children:"create"})}),Object(m.jsx)("input",{type:"text",className:"form-control",name:"name",placeholder:"Website name",onChange:o,value:r.name})]}),Object(m.jsx)("div",{className:"form-group",children:Object(m.jsx)("textarea",{name:"description",rows:"3",className:"form-control",placeholder:"Write a description",onChange:o,value:r.description})}),Object(m.jsx)("button",{className:"btn btn-primary btn-block",children:""===e.currentId?"Save":"Update"})]})},h=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(""),s=Object(l.a)(r,2),o=s[0],f=s[1],j=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,""!==o){e.next=7;break}return e.next=4,b.collection("links").doc().set(t);case 4:Object(p.b)("Link Added",{type:"success",autoClose:2e3}),e.next=11;break;case 7:return e.next=9,b.collection("links").doc(o).update(t);case 9:Object(p.b)("Link Updated",{type:"info",autoClose:2e3}),f("");case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure you want to delete this link?")){e.next=4;break}return e.next=3,b.collection("links").doc(t).delete();case 3:Object(p.b)("Link Deleted",{type:"error",autoClose:2e3});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b.collection("links").onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(Object(i.a)(Object(i.a)({},e.data()),{},{id:e.id}))})),a(t)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){x()}),[]),Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:"col-md-6 p-2",children:Object(m.jsx)(O,{addOrEdit:j,currentId:o,links:c})}),Object(m.jsx)("div",{className:"col-md-6 p-2",children:c.map((function(e){return Object(m.jsx)("div",{className:"card mb-1",children:Object(m.jsxs)("div",{className:"card-body",children:[Object(m.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(m.jsx)("h4",{children:e.name}),Object(m.jsxs)("div",{children:[Object(m.jsx)("i",{className:"material-icons text-danger",onClick:function(){return h(e.id)},children:"close"}),Object(m.jsx)("i",{className:"material-icons",onClick:function(){return f(e.id)},children:"create"})]})]}),Object(m.jsx)("p",{children:e.description}),Object(m.jsx)("a",{href:e.url,target:"_blank",children:"Go to Website"})]})},e.id)}))})]})};c(30);var x=function(){return Object(m.jsxs)("div",{className:"container p-4",children:[Object(m.jsx)("div",{className:"row",children:Object(m.jsx)(h,{})}),Object(m.jsx)(p.a,{})]})},v=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,34)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),n(e),a(e),r(e),s(e)}))};c(31);s.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(x,{})}),document.getElementById("root")),v()}},[[32,1,2]]]);
//# sourceMappingURL=main.5213ba04.chunk.js.map